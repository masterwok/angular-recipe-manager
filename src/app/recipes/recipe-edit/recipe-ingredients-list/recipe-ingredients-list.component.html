<div class="row" [formGroup]="recipeFormGroup">
  <div class="col s12">
    <ul class="collection with-header" formArrayName="ingredients">
      <li class="collection-header ingredientsListItem">
        <h4>Ingredients
          <a
            (click)="addIngredient()"
            [ngClass]="{ 'pulse': noIngredients }"
            class="tooltipped btn-floating btn-small waves-effect waves-light cyan"
            data-tooltip="Add Ingredient"
            data-position="right">
            <i class="material-icons">add</i>
          </a>
        </h4>
      </li>
      <li
        *ngIf="noIngredients"
        class="row">
        <div class="row">
          <div class="col s12">
            <p class="flow-text">Your recipe needs ingredients...</p>
            <p class="flow-text subText">Click the button above to add an ingredient.</p>
          </div>
        </div>
      </li>
      <li
        *ngFor="let ingredient of recipeFormGroup.get('ingredients').controls"
        [formGroup]="ingredient">
        <div class="row ingredientRow">
          <div class="input-field col s6">
            <input
              placeholder="Flour, salt, sherry, etc."
              id="ingredientName"
              type="text"
              [ngClass]="{'invalid': ingredient.controls['ingredientName'].touched && !ingredient.controls['ingredientName'].valid }"
              formControlName="ingredientName">
            <label
              data-error="Name is required."
              for="ingredientName"
              class="active">Name</label>
          </div>
          <div class="input-field col s4">
            <input
              placeholder="3 Tbs., 1/2 Cup, etc."
              id="ingredientAmount"
              type="text"
              name="ingredientAmount"
              [ngClass]="{'invalid': ingredient.controls['ingredientAmount'].touched && !ingredient.controls['ingredientAmount'].valid }"
              formControlName="ingredientAmount">
            <label
              data-error="Amount is required."
              for="ingredientAmount"
              class="active">Amount</label>
          </div>
          <div class="col s2 ingredientRemoveColumn">
            <a
              (click)="removeIngredient(ingredient)"
              data-tooltip="Remove Ingredient"
              data-position="right"
              class="tooltipped btn-floating waves-effect waves-light red">
              <i class="material-icons">clear</i>
            </a>
          </div>
        </div>
      </li>
    </ul>
  </div>
</div>
