<form
  [formGroup]="recipeForm"
  class="detail-container">
  <div class="row">
    <div class="col l4 s12">
      <div class="row">
        <img
          src="{{imagePreviewPath}}"
          class="materialboxed"
          style="width: 100%;object-fit: cover;"/>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <input
            placeholder="http://example.com/someimage.png"
            id="imagePath"
            type="text"
            formControlName="imagePath"
            [(ngModel)]="imagePreviewPath"
            name="imagePath"
            class="validate">
          <label for="imagePath" class="active">Image URL</label>
        </div>
      </div>
      <div class="row">
        <ul class="collection with-header" formArrayName="ingredients">
          <li class="collection-header">
            <h4>Ingredients
              <a
                (click)="addIngredient()"
                class="btn-floating btn-small waves-effect waves-light cyan"
                style="float: right;">
                <i class="material-icons">add</i>
              </a>
            </h4>
          </li>
          <li
            *ngFor="let ingredient of recipeForm.get('ingredients').controls"
            [formGroup]="ingredient">
            <div class="row" style="margin-top:10px;margin-bottom: 10px;">
              <div class="input-field col s6">
                <input
                  placeholder="Flour, salt, sherry, etc."
                  id="ingredientName"
                  type="text"
                  formControlName="ingredientName">
                <label for="ingredientName" class="active">Name</label>
              </div>
              <div class="input-field col s4">
                <input
                  placeholder="3 Tbs., 1/2 Cup, etc."
                  id="ingredientAmount"
                  type="text"
                  name="ingredientAmount"
                  formControlName="ingredientAmount">
                <label for="ingredientAmount" class="active">Amount</label>
              </div>
              <div
                style="margin-top:15px;"
                class="col s2">
                <a
                  (click)="removeIngredient(ingredient)"
                  class="btn-floating waves-effect waves-light red">
                  <i class="material-icons">clear</i>
                </a>
              </div>
            </div>
          </li>
        </ul>
      </div>
    </div>

    <div class="col l6 s12">
      <div clas="row">
        <div class="input-field col s12">
          <input
            id="name"
            type="text"
            name="name"
            placeholder="French Onion Soup, Sweet and Sour Pork, etc."
            formControlName="name"
            class="validate">
          <label for="name" class="active">Recipe Name</label>
        </div>
      </div>
      <div clas="row">
        <div class="input-field col s12">
          <textarea
            id="description"
            name="description"
            placeholder="Something about the recipe..."
            formControlName="description"
            style="height: 130px;"
            class="materialize-textarea"></textarea>
          <label for="description" class="active">Description</label>
        </div>
      </div>
      <div class="row">
        <h4>Directions
          <a
            class="btn-floating btn-small waves-effect waves-light cyan"
            style="float: right;">
            <i class="material-icons">add</i>
          </a>
        </h4>
        <div class="divider" style="margin-bottom:30px;"></div>
        <div
          class="row"
          *ngFor="let stepControl of recipeForm.get('steps').controls; let i = index"
          [formGroup]="stepControl">
          <div class="input-field col s12">
          <textarea
            id="step"
            name="step"
            placeholder="The next step in cooking the recipe..."
            formControlName="step"
            style="height: 130px;"
            class="materialize-textarea"></textarea>
            <label for="description" class="active">Step {{i + 1}}.</label>
          </div>
        </div>

      </div>
    </div>

  </div>
</form>
